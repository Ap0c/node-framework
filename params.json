{"name":"Node Framework","tagline":"A simple server and web framework built in node.js.","body":"This project is an attempt to develop a full web backend using Node.js, comprised of the following:\r\n\r\n* Web server - capable of serving pages and static files.\r\n* Template engine - simple rendering of pages upon request.\r\n* Database interface - supports SQLite3.\r\n* URL routing - separates out url patterns from site structure.\r\n* View functions - run arbitrary JavaScript code to handle requests.\r\n\r\n# Structure\r\n\r\n## The Server Source Code\r\n\r\nThis is responsible for running the server. In production it would not ideally be visible to the person creating the site, but would instead be stored somewhere in a node package. It is contained within the `server` directory, and consists of the following files:\r\n\r\n* database.js - responsible for handling database connections and running queries.\r\n* response.js - contains a set of functions that generate http responses based upon the needs of the website builder.\r\n* server.js - the nuts and bolts of the web server, handles client requests and determines appropriate responses.\r\n* template.js - the template engine.\r\n\r\n## User Source Files\r\n\r\nThe remainder of the source code is meant to be user-facing (for website designers), and consists of the following files:\r\n\r\n* run.js - used to launch the server, and set the port to listen on.\r\n* config.json - a set of server configuration options stored in JSON format.\r\n* urls.js - for URL routing, builds an object in which URL patterns are defined and connected to corresponding views.\r\n* views.js - the set of user-designed functions used to perform actions when a request is received, such as rendering and returning a template.\r\n\r\n## Templates\r\n\r\nUser-designed templates, stored in the `templates` directory. The syntax for these is based upon that used in a number of Python template engines, such as [Jinja2](http://jinja.pocoo.org). Currently two major features have been implemented: inheritance and variables.\r\n\r\nInheritance involves taking a parent template and filling certain predefined sections within it with the contents of one or more child templates. It is commonly used to reduce the amount of boilerplate that must be written into each page (DOCTYPE, navbar and so on) by placing it once in a base, parent template. Various pages in the site then simply extend the base template and get all of this boilerplate for free. This is performed through the `{% extends 'parent.html' %}` tag, and the sections are defined by the tags:\r\n\r\n```\r\n{ % section <section_name> % }\r\n    Section content.\r\n{ % endsection <section_name> % }\r\n```\r\n\r\nVariables are a way of inserting data into templates at the time of rendering. In the case of a blog site, for example, you could take a generic article template and insert the content for a specific article at the time the user asks for it. Variables are defined in view functions, perhaps filled by querying a database, and passed to the template engine. In the template they are defined using the `{{ <variable_name> }}` tag, which will be replaced with the contents of the variable during rendering.\r\n\r\n## Static Files\r\n\r\nStatic files may be served directly by the framework, or by a web server such as Nginx running in front of the framework. They are stored within the `static` directory. The server knows to look for a static file through a user-defined URL prefix, which defaults to `/static/`.\r\n\r\n# Third Party Software\r\n\r\nSo far, the only third party package used is node-sqlite3, simply because building a full set of database bindings would have required an excessive amount of work relative to the scale of this project. This package may be found on Github [here](https://github.com/mapbox/node-sqlite3), and on the npm site [here](https://www.npmjs.com/package/sqlite3).\r\n\r\n# Future Plans\r\n\r\n* Expanding the template engine to include control logic statements, like loops and conditionals.\r\n* Adding regular expressions and variable capture to the URL routing components.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}